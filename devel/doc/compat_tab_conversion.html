<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
           "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<!--
TO DO:
enc2native
enc2utf8
stri_enc_toascii
-->



   
<head>
<style type="text/css">.knitr.inline {
  background-color: #f7f7f7;
  border:solid 1px #B0B0B0;
}
.error {
	font-weight: bold;
	color: #FF0000;
},
.warning {
	font-weight: bold;
}
.message {
	font-style: italic;
}
.source, .output, .warning, .error, .message {
	padding: 0em 1em;
  border:solid 1px #F7F7F7;
}
.source {
  background-color: #f5f5f5;
}
.rimage.left {
  text-align: left;
}
.rimage.right {
  text-align: right;
}
.rimage.center {
  text-align: center;
}
.hl.num {
  color: #AF0F91;
}
.hl.str {
  color: #317ECC;
}
.hl.com {
  color: #AD95AF;
  font-style: italic;
}
.hl.opt {
  color: #000000;
}
.hl.std {
  color: #585858;
}
.hl.kwa {
  color: #295F94;
  font-weight: bold;
}
.hl.kwb {
  color: #B05A65;
}
.hl.kwc {
  color: #55aa55;
}
.hl.kwd {
  color: #BC5A65;
  font-weight: bold;
}</style>
<title>stringi &ndash; Compatibility Tables</title>

   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<!--    <meta charset='UTF-8' /> -->
   <meta name="Author" content="Marek Gągolewski" />
   <meta http-equiv="Content-Language" content="en-US" />
   
   <meta name="Keywords" content="Rexamine, stringi, ICU, R" />
   <meta name="Description" content="stringi Compatibility Tables" />
   <meta name="Robots" content="index, follow" />
   
<style>
body {
   font-family: "Segoe UI";
   font-size: 14px;
}

h1 {
   font-size: 40px;
   font-weight: 500;
   background: white;
   color: black;
   padding: 5px;
   border-bottom: 3px solid black;
}

h2 {
   font-size: 25px;
   border-bottom: 1px solid gray;
   font-weight: 500;
   background: #d0d0d0;
   padding: 5px;
}

h3 {
   font-size: 20px;
   border-bottom: 1px solid #fafafa;
   font-weight: 500;
   background: #f0f0f0;
   padding: 5px;
}


h4 {
   font-size: 15px;
   font-weight: 500;
   background: #eaeaff;
   padding: 3px;
}

th {
   text-align: left;
   font-size: 10pt;
   padding: 3px;
}

table {
   border: 1px black solid;
}

td {
   border: 1px gray solid;
   padding: 3px;
}

div.columntitle {
   margin-bottom: 1ex;
   font-weight: bold;
   text-align: center;
}

div.column1, div.column2 {
   width: 30%;
   clear: none;
   border: 0;
   margin: 0;
   padding: 1ex;
   display: inline-block;
   height: auto;
   vertical-align: top;
}

div.column3 {
   width: 30%;
   clear: bottom;
   border: 0;
   margin: 0;
   padding: 1ex;
   display: inline-block;
   height: auto;
   vertical-align: top;
}

div.footer {
   margin: 0;
   padding: 1ex;
   background: #f0f0f0;
   font-size: 90%;
}


</style>
</head>

<body>



<body>

<h1>
<a href="http://stringi.rexamine.com">stringi</a> 0.1-10  (2013-10-26 ) Compatibility Tables:  Character Encodings

</h1>

<!-- -------------------------------------------------------------- -->

<h2>Introduction</h2>

<p>As we know, character vectors in R in computer's memory
resemble lists of raw vectors (each ended up with a 00 byte).
Each string has to be properly "decoded"
so that textual information may be read from such a byte stream.
This "decoding scheme" is simply called a character encoding.</p>

<p>In other words, data in computer's memory are just bytes (small integer values) 
&ndash; an encoding is a way to represent characters with such numbers,
it is a semantic "key" to understand a given byte sequence.
For example, in ISO-8859-2 (Central European), the value 177 represents Polish
“a with ogonek”, and in ISO-8859-1 (Western European),
the same value meas the “plus-minus” sign.
Thus, a character encoding is a translation scheme.</p>

<p>Below you will find a list of functions that deal with character encodings.
Mostly, you will use them when reading or writing a text file.
Functions in <a href="http://stringi.rexamine.com">stringi</a>
process each string internally in Unicode,
which is a superset of all character representation schemes.
This is why while working with <a href="http://stringi.rexamine.com">stringi</a>
you will often use (sometimes without even knowing that explicitly) the following
workflow scheme: READ FILE -> CONVERT TO UTF-8 -> PROCESS -> CONVERT BACK TO
DESIRED ENCODING -> WRITE FILE.</p>

<!-- -------------------------------------------------------------- -->

<h2>Conversion to Raw Vectors</h2>

<h3>Basic Functionality</h3>

<div class='columns'>
<div class='column1'><div class='columntitle'>base</div>
<code><code class="knitr inline">charToRaw()</code></code> &ndash; single string to a raw vector only

<div class="chunk" id="unnamed-chunk-4"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">charToRaw</span><span class="hl std">(</span><span class="hl str">&quot;aA1&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 61 41 31
</pre></div>
</div></div>


</div>
<div class='column2'><div class='columntitle'>stringr</div>

<em>(none)</em>

</div>
<div class='column3'><div class='columntitle'>stringi</div>

<code><code class="knitr inline">stri_encode()</code></code>
with argument <code><code class="knitr inline">to_raw=TRUE</code></code>
   is vectorized over the first argument;
   it returns a list of raw vectors.

<div class="chunk" id="unnamed-chunk-5"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">stri_encode</span><span class="hl std">(</span><span class="hl str">&quot;aA1&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;&quot;</span><span class="hl std">,</span> <span class="hl kwc">to_raw</span><span class="hl std">=</span><span class="hl num">TRUE</span><span class="hl std">)[[</span><span class="hl num">1</span><span class="hl std">]]</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 61 41 31
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">stri_encode</span><span class="hl std">(</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;aA1&quot;</span><span class="hl std">,</span> <span class="hl str">&quot; &quot;</span><span class="hl std">),</span> <span class="hl str">&quot;&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;&quot;</span><span class="hl std">,</span> <span class="hl kwc">to_raw</span><span class="hl std">=</span><span class="hl num">TRUE</span><span class="hl std">)</span>
</pre></div>
<div class="output"><pre class="knitr r">## [[1]]
## [1] 61 41 31
## 
## [[2]]
## [1] 20
</pre></div>
</div></div>


<strong>TODO:</strong> add <code><code class="knitr inline">stri_enc_toraw()</code></code> (?)
</div>
</div>

<h3>Performance comparison</h3>

<div class="chunk" id="unnamed-chunk-6"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl std">test1</span> <span class="hl kwb">&lt;-</span> <span class="hl str">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span>
<span class="hl kwd">microbenchmark</span><span class="hl std">(</span><span class="hl kwd">charToRaw</span><span class="hl std">(test1),</span> <span class="hl kwd">stri_encode</span><span class="hl std">(test1,</span> <span class="hl str">&quot;&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;&quot;</span><span class="hl std">,</span> <span class="hl kwc">to_raw</span><span class="hl std">=</span><span class="hl num">TRUE</span><span class="hl std">)[[</span><span class="hl num">1</span><span class="hl std">]])</span>
</pre></div>
<div class="output"><pre class="knitr r">## Unit: nanoseconds
##                                            expr  min      lq  median      uq   max neval
##                                charToRaw(test1)  472   754.0  1009.5  1157.0  3188   100
##  stri_encode(test1, "", "", to_raw = TRUE)[[1]] 9909 10544.5 10781.0 11123.5 75458   100
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">test2</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">rep</span><span class="hl std">(</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;0123456789&quot;</span><span class="hl std">),</span> <span class="hl num">10</span><span class="hl std">)</span>
<span class="hl kwd">microbenchmark</span><span class="hl std">(</span><span class="hl kwd">lapply</span><span class="hl std">(test2, charToRaw),</span> <span class="hl kwd">stri_encode</span><span class="hl std">(test2,</span> <span class="hl str">&quot;&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;&quot;</span><span class="hl std">,</span> <span class="hl kwc">to_raw</span><span class="hl std">=</span><span class="hl num">TRUE</span><span class="hl std">))</span>
</pre></div>
<div class="output"><pre class="knitr r">## Unit: microseconds
##                                       expr    min      lq  median      uq    max neval
##                   lapply(test2, charToRaw) 26.496 29.6650 32.7675 34.8955 55.276   100
##  stri_encode(test2, "", "", to_raw = TRUE) 33.345 34.8065 35.6140 37.0500 82.848   100
</pre></div>
</div></div>


<!-- -------------------------------------------------------------- -->

<h2>Conversion from Raw Vectors</h2>

<h3>Basic Functionality</h3>

<div class='columns'>
<div class='column1'><div class='columntitle'>base</div>
<code><code class="knitr inline">rawToChar()</code></code> 
&ndash; single raw vector to a single string only

<div class="chunk" id="unnamed-chunk-7"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">rawToChar</span><span class="hl std">(</span><span class="hl kwd">as.raw</span><span class="hl std">(</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">97</span><span class="hl std">,</span> <span class="hl num">65</span><span class="hl std">,</span> <span class="hl num">49</span><span class="hl std">)))</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] "aA1"
</pre></div>
</div></div>


</div>
<div class='column2'><div class='columntitle'>stringr</div>

<em>(none)</em>

</div>
<div class='column3'><div class='columntitle'>stringi</div>
   <code><code class="knitr inline">stri_encode()</code></code>  also accepts a raw vector
   or a list of raw vectors as its first argument;
   by default, i.e. when <code><code class="knitr inline">to_raw=FALSE</code></code>,
   the result is a character vector.

<div class="chunk" id="unnamed-chunk-8"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">stri_encode</span><span class="hl std">(</span><span class="hl kwd">as.raw</span><span class="hl std">(</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">97</span><span class="hl std">,</span> <span class="hl num">65</span><span class="hl std">,</span> <span class="hl num">49</span><span class="hl std">)),</span> <span class="hl str">&quot;&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] "aA1"
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">stri_encode</span><span class="hl std">(</span><span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwd">as.raw</span><span class="hl std">(</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">97</span><span class="hl std">,</span> <span class="hl num">65</span><span class="hl std">,</span> <span class="hl num">49</span><span class="hl std">)),</span>
   <span class="hl kwd">as.raw</span><span class="hl std">(</span><span class="hl num">32</span><span class="hl std">)),</span> <span class="hl str">&quot;&quot;</span><span class="hl std">)</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] "aA1" " "
</pre></div>
</div></div>



<strong>TODO:</strong> add <code><code class="knitr inline">stri_enc_fromraw()</code></code> (?)
</div>
</div>

<h3>Performance comparison</h3>

<div class="chunk" id="unnamed-chunk-9"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl std">test1</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">as.raw</span><span class="hl std">(</span><span class="hl num">97</span><span class="hl opt">:</span><span class="hl num">122</span><span class="hl std">)</span>
<span class="hl kwd">microbenchmark</span><span class="hl std">(</span><span class="hl kwd">rawToChar</span><span class="hl std">(test1),</span> <span class="hl kwd">stri_encode</span><span class="hl std">(test1,</span> <span class="hl str">&quot;&quot;</span><span class="hl std">))</span>
</pre></div>
<div class="output"><pre class="knitr r">## Unit: nanoseconds
##                    expr  min     lq median   uq   max neval
##        rawToChar(test1)  801  937.5 1321.5 1448 11822   100
##  stri_encode(test1, "") 4681 4935.0 5075.5 5306 45063   100
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">test2</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">rep</span><span class="hl std">(</span><span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwd">as.raw</span><span class="hl std">(</span><span class="hl num">97</span><span class="hl opt">:</span><span class="hl num">122</span><span class="hl std">),</span> <span class="hl kwd">as.raw</span><span class="hl std">(</span><span class="hl num">65</span><span class="hl opt">:</span><span class="hl num">90</span><span class="hl std">),</span> <span class="hl kwd">as.raw</span><span class="hl std">(</span><span class="hl num">48</span><span class="hl opt">:</span><span class="hl num">57</span><span class="hl std">)),</span> <span class="hl num">10</span><span class="hl std">)</span>
<span class="hl kwd">microbenchmark</span><span class="hl std">(</span><span class="hl kwd">lapply</span><span class="hl std">(test2, rawToChar),</span> <span class="hl kwd">stri_encode</span><span class="hl std">(test2,</span> <span class="hl str">&quot;&quot;</span><span class="hl std">))</span>
</pre></div>
<div class="output"><pre class="knitr r">## Unit: microseconds
##                      expr    min      lq  median      uq    max neval
##  lapply(test2, rawToChar) 34.327 36.7035 39.3145 41.4785 94.749   100
##    stri_encode(test2, "") 22.761 23.4150 23.9650 24.7755 64.217   100
</pre></div>
</div></div>


<!-- -------------------------------------------------------------- -->

<h2>Conversion to Integer Vectors (i.e. UTF-32)</h2>

<h3>Basic Functionality</h3>

<div class='columns'>
<div class='column1'><div class='columntitle'>base</div>
   <code><code class="knitr inline">utf8ToInt()</code></code> 
   &ndash; single string in UTF-8 to an integer vector only

<div class="chunk" id="unnamed-chunk-10"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">utf8ToInt</span><span class="hl std">(</span><span class="hl kwd">enc2utf8</span><span class="hl std">(</span><span class="hl str">&quot;aA1&quot;</span><span class="hl std">))</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 97 65 49
</pre></div>
</div></div>


</div>
<div class='column2'><div class='columntitle'>stringr</div>

<em>(none)</em>

</div>
<div class='column3'><div class='columntitle'>stringi</div>
   <code><code class="knitr inline">stri_enc_toutf32()</code></code>  accepts a character vector on input
   and returns a list of integer vectors;
   like in all other functions from our package, native and UTF-8
   encodings are handled properly

<div class="chunk" id="unnamed-chunk-11"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">stri_enc_toutf32</span><span class="hl std">(</span><span class="hl str">&quot;aA1&quot;</span><span class="hl std">)[[</span><span class="hl num">1</span><span class="hl std">]]</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 97 65 49
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">stri_enc_toutf32</span><span class="hl std">(</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;aA1&quot;</span><span class="hl std">,</span> <span class="hl str">&quot; &quot;</span><span class="hl std">))</span>
</pre></div>
<div class="output"><pre class="knitr r">## [[1]]
## [1] 97 65 49
## 
## [[2]]
## [1] 32
</pre></div>
</div></div>


</div>
</div>


<h3>Performance comparison</h3>

<div class="chunk" id="unnamed-chunk-12"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl std">test1</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">enc2utf8</span><span class="hl std">(</span><span class="hl str">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span><span class="hl std">)</span>
<span class="hl kwd">microbenchmark</span><span class="hl std">(</span><span class="hl kwd">utf8ToInt</span><span class="hl std">(test1),</span> <span class="hl kwd">stri_enc_toutf32</span><span class="hl std">(test1)[[</span><span class="hl num">1</span><span class="hl std">]])</span>
</pre></div>
<div class="output"><pre class="knitr r">## Unit: nanoseconds
##                          expr  min   lq median   uq   max neval
##              utf8ToInt(test1)  600  823  912.5 1088  4595   100
##  stri_enc_toutf32(test1)[[1]] 2509 2713 2921.0 3108 60612   100
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">test2</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">enc2utf8</span><span class="hl std">(</span><span class="hl kwd">rep</span><span class="hl std">(</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl str">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;0123456789&quot;</span><span class="hl std">),</span> <span class="hl num">10</span><span class="hl std">))</span>
<span class="hl kwd">microbenchmark</span><span class="hl std">(</span><span class="hl kwd">lapply</span><span class="hl std">(test2, utf8ToInt),</span> <span class="hl kwd">stri_enc_toutf32</span><span class="hl std">(test2))</span>
</pre></div>
<div class="output"><pre class="knitr r">## Unit: microseconds
##                      expr    min      lq  median     uq    max neval
##  lapply(test2, utf8ToInt) 30.544 32.8065 35.6225 37.465 51.189   100
##   stri_enc_toutf32(test2)  9.551 10.9150 11.2745 11.863 42.947   100
</pre></div>
</div></div>


<!-- -------------------------------------------------------------- -->

<h2>Conversion from Integer Vectors (i.e. UTF-32)</h2>

<h3>Basic Functionality</h3>

<div class='columns'>
<div class='column1'><div class='columntitle'>base</div>
   <code><code class="knitr inline">intToUtf8()</code></code> 
   &ndash; single integer vector to a single string only

<div class="chunk" id="unnamed-chunk-13"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">intToUtf8</span><span class="hl std">(</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">97L</span><span class="hl std">,</span> <span class="hl num">65L</span><span class="hl std">,</span> <span class="hl num">49L</span><span class="hl std">))</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] "aA1"
</pre></div>
</div></div>


</div>
<div class='column2'><div class='columntitle'>stringr</div>

<em>(none)</em>

</div>
<div class='column3'><div class='columntitle'>stringi</div>
   <code><code class="knitr inline">stri_enc_fromutf32()</code></code> 
   a single integer vector
   or a list of integer vectors as its argument;
   the result is a UTF-8-encoded character vector.

<div class="chunk" id="unnamed-chunk-14"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">stri_enc_fromutf32</span><span class="hl std">(</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">97L</span><span class="hl std">,</span> <span class="hl num">65L</span><span class="hl std">,</span> <span class="hl num">49L</span><span class="hl std">))</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] "aA1"
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">stri_enc_fromutf32</span><span class="hl std">(</span><span class="hl kwd">list</span><span class="hl std">(</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">97L</span><span class="hl std">,</span> <span class="hl num">65L</span><span class="hl std">,</span> <span class="hl num">49L</span><span class="hl std">),</span> <span class="hl num">32L</span><span class="hl std">))</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] "aA1" " "
</pre></div>
</div></div>


</div>
</div>


<h3>Performance comparison</h3>

<div class="chunk" id="unnamed-chunk-15"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl std">test1</span> <span class="hl kwb">&lt;-</span> <span class="hl num">97</span><span class="hl opt">:</span><span class="hl num">122</span>
<span class="hl kwd">microbenchmark</span><span class="hl std">(</span><span class="hl kwd">intToUtf8</span><span class="hl std">(test1),</span> <span class="hl kwd">stri_enc_fromutf32</span><span class="hl std">(test1))</span>
</pre></div>
<div class="output"><pre class="knitr r">## Unit: microseconds
##                       expr   min    lq median     uq    max neval
##           intToUtf8(test1) 1.281 1.481 1.5475 1.7265  6.225   100
##  stri_enc_fromutf32(test1) 1.924 2.025 2.1525 2.3030 26.277   100
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">test2</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">rep</span><span class="hl std">(</span><span class="hl kwd">list</span><span class="hl std">(</span><span class="hl num">97</span><span class="hl opt">:</span><span class="hl num">122</span><span class="hl std">,</span> <span class="hl num">65</span><span class="hl opt">:</span><span class="hl num">90</span><span class="hl std">,</span> <span class="hl num">48</span><span class="hl opt">:</span><span class="hl num">57</span><span class="hl std">),</span> <span class="hl num">10</span><span class="hl std">)</span>
<span class="hl kwd">microbenchmark</span><span class="hl std">(</span><span class="hl kwd">lapply</span><span class="hl std">(test2, intToUtf8),</span> <span class="hl kwd">stri_enc_fromutf32</span><span class="hl std">(test2))</span>
</pre></div>
<div class="output"><pre class="knitr r">## Unit: microseconds
##                       expr    min      lq  median      uq    max neval
##   lapply(test2, intToUtf8) 45.362 48.5875 50.3765 51.6785 69.595   100
##  stri_enc_fromutf32(test2)  6.472  6.9440  7.1800  7.5560 34.594   100
</pre></div>
</div></div>



<!-- -------------------------------------------------------------- -->

<h2>List of Supported Encodings</h2>

<h3>Basic Functionality</h3>

<div class='columns'>
<div class='column1'><div class='columntitle'>base</div>
   <code><code class="knitr inline">iconvlist()</code></code> 
   &ndash; returns a character vector with supported encoding
   names (as well as its aliases).
   
   <p>Note that, as R manual states, the names are rarely valid
   across all platforms.</p>

<div class="chunk" id="unnamed-chunk-16"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">sample</span><span class="hl std">(</span><span class="hl kwd">iconvlist</span><span class="hl std">(),</span> <span class="hl num">4</span><span class="hl std">)</span> <span class="hl com"># a sample of supported encodings</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] "EBCDIC-CP-DK"  "CP916"         "CSISO25FRENCH" "CSISO49INIS"
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">length</span><span class="hl std">(</span><span class="hl kwd">iconvlist</span><span class="hl std">())</span> <span class="hl com"># count; Fedora Linux 19 x64_86</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 1168
</pre></div>
</div></div>


</div>
<div class='column2'><div class='columntitle'>stringr</div>

<em>(none)</em>

</div>
<div class='column3'><div class='columntitle'>stringi</div>
   <code><code class="knitr inline">stri_enc_list()</code></code> 
   with argument <code></code>
   provides a character vector with all supported encodings and
   their aliases in many different forms.
   
   <p>By default, howewer, a list of character vectors
   is returned. Each list element contains the list of aliases for 
   the given encoding.</p>
   
   <p>Please, note that apart from given encodings,
   ICU tries to normalize encoding specifiers, e.g. "utf8" is a valid
   specifier for "UTF-8".</p>
   
   <p>Depending on the version of the ICU library used,
   each encoding should be supported across all platforms.</p>
   
   <p>By the way, <code><code class="knitr inline">stri_enc_info()</code></code>
   returns detailed information of a given encoding specifier.</p>

<div class="chunk" id="unnamed-chunk-17"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">sample</span><span class="hl std">(</span><span class="hl kwd">stri_enc_list</span><span class="hl std">(</span><span class="hl num">TRUE</span><span class="hl std">),</span> <span class="hl num">4</span><span class="hl std">)</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] "TIS-620"         "windows-852"     "ISO_8859-3:1988" "IBM01143"
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">length</span><span class="hl std">(</span><span class="hl kwd">stri_enc_list</span><span class="hl std">(</span><span class="hl num">TRUE</span><span class="hl std">))</span> <span class="hl com"># includes aliases</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 1198
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">length</span><span class="hl std">(</span><span class="hl kwd">stri_enc_list</span><span class="hl std">())</span> <span class="hl com"># true number of supported encodings</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 229
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">str</span><span class="hl std">(</span><span class="hl kwd">stri_enc_info</span><span class="hl std">(</span><span class="hl str">&quot;cp1250&quot;</span><span class="hl std">))</span>
</pre></div>
<div class="output"><pre class="knitr r">## List of 13
##  $ Name.friendly: chr "windows-1250"
##  $ Name.ICU     : chr "ibm-5346_P100-1998"
##  $ Name.UTR22   : chr "ibm-5346_P100-1998"
##  $ Name.IBM     : chr "ibm-5346"
##  $ Name.WINDOWS : chr "windows-1250"
##  $ Name.JAVA    : chr "windows-1250"
##  $ Name.IANA    : chr "windows-1250"
##  $ Name.MIME    : chr NA
##  $ ASCII.subset : logi TRUE
##  $ Unicode.1to1 : logi TRUE
##  $ CharSize.8bit: logi TRUE
##  $ CharSize.min : int 1
##  $ CharSize.max : int 1
</pre></div>
</div></div>


</div>
</div>


<!-- -------------------------------------------------------------- -->

<h2>Convert Strings Between Encodings</h2>

<h3>Basic Functionality</h3>

<div class='columns'>
<div class='column1'><div class='columntitle'>base</div>
   <code><code class="knitr inline">iconv()</code></code> 
   &ndash; converts a character vector between two given encodings.
   Argument <code><code class="knitr inline">from</code></code>
   or <code><code class="knitr inline">to</code></code> equal to ""
   denotes default (native) encoding,
   which is used by R session.

<div class="chunk" id="unnamed-chunk-18"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">utf8ToInt</span><span class="hl std">(</span>
   <span class="hl kwd">iconv</span><span class="hl std">(</span><span class="hl kwd">rawToChar</span><span class="hl std">(</span><span class="hl kwd">as.raw</span><span class="hl std">(</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">177</span><span class="hl std">,</span> <span class="hl num">182</span><span class="hl std">))),</span> <span class="hl str">&quot;latin2&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;utf-8&quot;</span><span class="hl std">)</span>
<span class="hl std">)</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 261 347
</pre></div>
</div></div>


</div>
<div class='column2'><div class='columntitle'>stringr</div>

<em>(none)</em>

</div>
<div class='column3'><div class='columntitle'>stringi</div>
   <code><code class="knitr inline">stri_encode()</code></code> 
   provides a very similar functionality
   as <code><code class="knitr inline">iconv()</code></code>.
   
   <p>Note that currently used default encoding may be obtained by calling
   <code><code class="knitr inline">stri_enc_get()</code></code>
   and changed any time with a call to <code><code class="knitr inline">stri_enc_set()</code></code>.
   This is not dangerous as almost every function in stringi
   returns UTF-8-encoded strings.</p>
   
   <p><code><code class="knitr inline">stri_encode()</code></code> and
   <code><code class="knitr inline">iconv()</code></code> differ in the treatment of
   unsupported characters. If an incorrect code point is found on input,
   <code><code class="knitr inline">stri_encode()</code></code>  replaces it by the default
   (for that target encoding) substitute character and generates a warning.
   <code><code class="knitr inline">iconv()</code></code> in turn, by default silently returns
   <code>NA</code>.

<div class="chunk" id="unnamed-chunk-19"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">stri_enc_toutf32</span><span class="hl std">(</span>
   <span class="hl kwd">stri_encode</span><span class="hl std">(</span><span class="hl kwd">rawToChar</span><span class="hl std">(</span><span class="hl kwd">as.raw</span><span class="hl std">(</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">177</span><span class="hl std">,</span> <span class="hl num">182</span><span class="hl std">))),</span> <span class="hl str">&quot;latin2&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;utf-8&quot;</span><span class="hl std">)</span>
<span class="hl std">)[[</span><span class="hl num">1</span><span class="hl std">]]</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 261 347
</pre></div>
</div></div>


</div>
</div>


<h3>Performance comparison</h3>

<div class="chunk" id="unnamed-chunk-20"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl std">test1</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">as.raw</span><span class="hl std">(</span><span class="hl num">128</span><span class="hl opt">:</span><span class="hl num">255</span><span class="hl std">)</span>
<span class="hl kwd">microbenchmark</span><span class="hl std">(</span><span class="hl kwd">iconv</span><span class="hl std">(test1,</span> <span class="hl str">&quot;latin2&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;utf8&quot;</span><span class="hl std">),</span> <span class="hl kwd">stri_encode</span><span class="hl std">(test1,</span> <span class="hl str">&quot;latin2&quot;</span><span class="hl std">,</span> <span class="hl str">&quot;utf8&quot;</span><span class="hl std">))</span>
</pre></div>
<div class="output"><pre class="knitr r">## Unit: microseconds
##                                  expr    min      lq median     uq     max neval
##        iconv(test1, "latin2", "utf8") 54.547 55.6715 57.980 58.519 107.766   100
##  stri_encode(test1, "latin2", "utf8")  7.730  8.7440 10.573 11.057  55.091   100
</pre></div>
</div></div>



<!-- -------------------------------------------------------------- -->

<h2>Unicode Normalization</h2>

<h3>Basic Functionality</h3>

<div class='columns'>
<div class='column1'><div class='columntitle'>base</div>

<em>(none)</em>

</div>
<div class='column2'><div class='columntitle'>stringr</div>

<em>(none)</em>

</div>
<div class='column3'><div class='columntitle'>stringi</div>
   <code><code class="knitr inline">stri_enc_isnfc(), stri_enc_isnfkc(), stri_enc_isnfd(), stri_enc_isnfkd(), stri_enc_isnfkc_casefold()</code></code>
   check whether given UTF-8-encoded strings are properly normalized.
   
   <p>Moreover, <code><code class="knitr inline">stri_enc_tonfc(), stri_enc_tonfkc(), stri_enc_tonfd(), stri_enc_tonfkd(), stri_enc_tonfkc_casefold()</code></code>
   perform the desired normalization.</p>
</div>
</div>

<!-- -------------------------------------------------------------- -->

<h2>Automatic Encoding Detection</h2>

<h3>Basic Functionality</h3>

<div class='columns'>
<div class='column1'><div class='columntitle'>base</div>

<em>(none)</em>

</div>
<div class='column2'><div class='columntitle'>stringr</div>

<em>(none)</em>

</div>
<div class='column3'><div class='columntitle'>stringi</div>
   <code><code class="knitr inline">stri_enc_detect()</code></code>
   and <code><code class="knitr inline">stri_enc_detect2()</code></code>
   provide two experimental facilities for automatic encoding detection.
   The first one uses ICU's native algorithm and the second one
   provides our own implementation for locale-dependent guessing.
   
   <p>TO DO: <code><code class="knitr inline">stri_enc_detect2()</code></code> - choose best
   match from a given list of guesses.</p>
   
   <p>Moreover, the functions
   <code><code class="knitr inline">stri_enc_isascii(), stri_enc_utf8(), str_enci_isutf16le(), stri_enc_isutf16le(), stri_enc_isutf32le(), stri_enc_isutf32le()</code></code>
   check whether given byte sequences
   form a valid character sequence in a given encoding.</p>
</div>
</div>


<!-- -------------------------------------------------------------- -->

<div class="footer"><a rel="license" href="http://creativecommons.org/licenses/by/3.0/"><img alt="Creative Commons License" style="border-width:0; float: left; margin: 8px" src="http://i.creativecommons.org/l/by/3.0/88x31.png"></a><a href="http://www.rexamine.com/">
<img style="float: right; margin: 8px"
src="http://static.rexamine.com/img/Rexamine_logo_transparent3.png" title="Rexamine" alt="Rexamine" /></a><div style="text-align: center">Licensed under the 
<a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative 
Commons Attribution 3.0 Unported License</a>.<br />Copyleft 2013, <a href="http://gagolewski.rexamine.com">Marek Gagolewski</a>.<br />Last updated:  2013-10-30 12:25:41 </div></div>


</body>
</html>
